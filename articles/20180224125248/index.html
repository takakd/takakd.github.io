<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.79.1"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="AWSã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’å‚è€ƒã«ã€Formã§S3ãƒã‚±ãƒƒãƒˆã¸ã®POSTã‚’è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚ æº–å‚™ # Formã§S3ã«POSTã™ã‚‹ãŸã‚ã«ã¯ã€å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«é€ä¿¡ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ"><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="HTML Formã§S3ã«POST"><meta property="og:description" content="AWSã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’å‚è€ƒã«ã€Formã§S3ãƒã‚±ãƒƒãƒˆã¸ã®POSTã‚’è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚ æº–å‚™ # Formã§S3ã«POSTã™ã‚‹ãŸã‚ã«ã¯ã€å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«é€ä¿¡ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ"><meta property="og:type" content="article"><meta property="og:url" content="https://takakd.github.io/articles/20180224125248/"><meta property="article:published_time" content="2018-02-24T12:52:48+09:00"><meta property="article:modified_time" content="2020-12-03T22:35:36+09:00"><title>HTML Formã§S3ã«POST | takağŸ‘¨ğŸ»â€ğŸ’»</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.becc5f833d5163a998ae7d18e80e7d882d355079fc4dc44a8860ee1c2a960a7a.css integrity="sha256-vsxfgz1RY6mYrn0Y6A59iC01UHn8TcRKiGDuHCqWCno="><script defer src=/en.search.min.d864b04d1b39a7cce07fcdaa85493e85bfe752f3a5ecd421e7bdba0ba0a5f0fd.js integrity="sha256-2GSwTRs5p8zgf82qhUk+hb/nUvOl7NQh5726C6Cl8P0="></script><script defer src=/sw.min.74a8bb07f0bee86d6bb9a2750f073f14d93c7e4512f28860370cfd879e9719b4.js integrity="sha256-dKi7B/C+6G1ruaJ1Dwc/FNk8fkUS8ohgNwz9h56XGbQ="></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-108607644-3','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>takağŸ‘¨ğŸ»â€ğŸ’»</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/articles/>Articles</a></li><li><a href=/journals/>Journals</a></li><li><a href=/about/>About</a></li><li><a href=https://github.com/takakd target=_blank rel=noopener>Github</a></li><li><a href=https://www.linkedin.com/in/takakd/ target=_blank rel=noopener>Linkedin</a></li><li><a href=https://twitter.com/takakdkd target=_blank rel=noopener>Twitter</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>HTML Formã§S3ã«POST</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#æº–å‚™>æº–å‚™</a><ul><li><a href=#ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼>ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼</a></li></ul></li><li><a href=#ãƒ•ã‚©ãƒ¼ãƒ >ãƒ•ã‚©ãƒ¼ãƒ </a><ul><li><a href=#signatureç”Ÿæˆ>Signatureç”Ÿæˆ</a></li><li><a href=#fieldã®ä½ç½®>Fieldã®ä½ç½®</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1><a href=/articles/20180224125248/>HTML Formã§S3ã«POST</a></h1><h5>2018-02-24</h5><div><a href=/tags/aws/>aws</a></div><p><p><a href=https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-HTTPPOSTForms.html%22>AWSã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹</a>ã‚’å‚è€ƒã«ã€Formã§S3ãƒã‚±ãƒƒãƒˆã¸ã®POSTã‚’è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚</p><h2 id=æº–å‚™>æº–å‚™
<a class=anchor href=#%e6%ba%96%e5%82%99>#</a></h2><p>Formã§S3ã«POSTã™ã‚‹ãŸã‚ã«ã¯ã€å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«é€ä¿¡ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆã‚ã›ã€POST Policyã€Signatureã€ã‚¢ã‚¯ã‚»ã‚¹IDã€ãã®ä»–ãƒ•ã‚¡ã‚¤ãƒ«ã«é–¢ã™ã‚‹æƒ…å ±ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚<br>ï¼ˆPOST Policyï¼šPOSTã™ã‚‹æ™‚ã«ã¤ã‘ã‚‹è¨­å®šæƒ…å ±ã€Signatureã¯ãã‚Œã‚’ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ã§hashã—ãŸã‚‚ã®ï¼‰</p><h3 id=ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼>ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼
<a class=anchor href=#%e3%83%90%e3%82%b1%e3%83%83%e3%83%88%e3%83%9d%e3%83%aa%e3%82%b7%e3%83%bc>#</a></h3><p>ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹IDã‚’è¨­å®šã—ã¾ã™ãŒã€ã“ã®ã‚¢ã‚¯ã‚»ã‚¹IDã«å¯¾å¿œã™ã‚‹IAMãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€POSTå…ˆã®ãƒã‚±ãƒƒãƒˆã«å¯¾ã™ã‚‹æ“ä½œæ¨©é™ãŒå¿…è¦ã§ã™ã€‚<br>åŸºæœ¬çš„ãªAWSã®IAMãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è€ƒãˆã§ã™ã­ã€‚</p><p>æ¬¡ã®ã‚ˆã†ã«ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼ã‚’è¨­å®šã—ã¾ã™ã€‚</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:#f92672>&#34;Version&#34;</span>: <span style=color:#e6db74>&#34;2012-10-17&#34;</span>,
  <span style=color:#f92672>&#34;Statement&#34;</span>: [
    {
      <span style=color:#f92672>&#34;Effect&#34;</span>: <span style=color:#e6db74>&#34;Allow&#34;</span>,
      <span style=color:#f92672>&#34;Principal&#34;</span>: {
      <span style=color:#f92672>&#34;aws&#34;</span>: <span style=color:#e6db74>&#34;arn:aws:iam::&lt;12æ¡ã®æ•°å­—&gt;:user/&lt;IAMãƒ¦ãƒ¼ã‚¶ãƒ¼å&gt;&#34;</span>
      },
      <span style=color:#f92672>&#34;Action&#34;</span>: <span style=color:#e6db74>&#34;s3:*&#34;</span>,
      <span style=color:#f92672>&#34;Resource&#34;</span>: [
        <span style=color:#e6db74>&#34;arn:aws:s3:::&lt;ãƒã‚±ãƒƒãƒˆå&gt;/*&#34;</span>
      ]
    }
  ]
}
</code></pre></div><p>ã“ã“ã§ã¯å…¨ã¦ã®æ¨©é™ä¸ãˆã¦ãŠã‚Šã¾ã™ãŒã€å®Ÿéš›ã«ä½¿ã†å ´åˆã¯Actionã‚„Conditionãƒ–ãƒ­ãƒƒã‚¯ã§åˆ¶é™ã—ãŸã»ã†ãŒã‚ˆã„ã‹ã¨æ€ã„ã¾ã™ã€‚</p><h2 id=ãƒ•ã‚©ãƒ¼ãƒ >ãƒ•ã‚©ãƒ¼ãƒ 
<a class=anchor href=#%e3%83%95%e3%82%a9%e3%83%bc%e3%83%a0>#</a></h2><p>ç¶šã„ã¦ãƒ•ã‚©ãƒ¼ãƒ ã€‚<br><code>multipart/form-data</code>ã§ã€ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®å±æ€§ã‚„èªè¨¼æƒ…å ±ã‚’POSTã—ã¾ã™ã€‚<br>å„ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã¤ã„ã¦ã¯
<a href=https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-HTTPPOSTForms.html%22>ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹</a>ã®[HTML Form Fields]ã‚’ã”å‚è€ƒã€‚</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>form</span> <span style=color:#a6e22e>action</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;http://&lt;bucket name&gt;.s3.amazonaws.com/&#34;</span> <span style=color:#a6e22e>method</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post&#34;</span> <span style=color:#a6e22e>enctype</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;multipart/form-data&#34;</span>&gt;
  &lt;<span style=color:#f92672>label</span>&gt;
    S3 Tags for File: &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text&#34;</span>  <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;x-amz-meta-tag&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span> /&gt;&lt;<span style=color:#f92672>br</span> /&gt;
  &lt;/<span style=color:#f92672>label</span>&gt;
  &lt;<span style=color:#f92672>label</span>&gt;
    Content-Type: &lt;<span style=color:#f92672>span</span>&gt;image/png&lt;/<span style=color:#f92672>span</span>&gt;
  &lt;/<span style=color:#f92672>label</span>&gt;

  <span style=color:#75715e>&lt;!-- AWSãŒ${filename}ã«é¸æŠã—ãŸãƒ•ã‚¡ã‚¤ãƒ«åã‚’å…¥ã‚Œã¦ãã‚Œã‚‹ --&gt;</span>
  &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hidden&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;key&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;from-form${filename}&#34;</span> /&gt;
  &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hidden&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;acl&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;private&#34;</span> /&gt;
  &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hidden&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;success_action_redirect&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;[ä»»æ„ã®URL]&#34;</span> /&gt;
  &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hidden&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;x-amz-server-side-encryption&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;AES256&#34;</span> /&gt;
  &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hidden&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Policy&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#39;[POST Plolicyã‚’Base64ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ãŸå€¤]&#39;</span> /&gt;
  &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hidden&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;X-Amz-Signature&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;[Policyã‚’ã‚‚ã¨ã«ä½œæˆã—ãŸSignature]&#34;</span> /&gt;
  &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hidden&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;X-Amz-Credential&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/20180219/ap-northeast-1/s3/aws4_request&#34;</span> /&gt;
  &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hidden&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;X-Amz-Algorithm&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;AWS4-HMAC-SHA256&#34;</span> /&gt;
  &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hidden&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;X-Amz-Date&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;20180219T000000Z&#34;</span> /&gt;
  &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hidden&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Content-Type&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;image/png&#34;</span> /&gt;
  &lt;<span style=color:#f92672>label</span>&gt;
    File: &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;file&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;file&#34;</span> /&gt; &lt;<span style=color:#f92672>br</span> /&gt;
  &lt;/<span style=color:#f92672>label</span>&gt;

  <span style=color:#75715e>&lt;!-- The elements after this will be ignored --&gt;</span>
  <span style=color:#75715e>&lt;!-- submitã‚ˆã‚Šå¾Œã«inputè¦ç´ ã‚’ç½®ã„ã¦ã‚‚é€ä¿¡ã§ããªã„ã®ã§ã€submitã¯ä¸€ç•ªæœ€å¾Œã«æ›¸ãã€‚ --&gt;</span>
  &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;submit&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;submit&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Upload to Amazon S3&#34;</span> /&gt;
&lt;/<span style=color:#f92672>form</span>&gt;
</code></pre></div><p>è©¦ã—ã¦ã„ã¦ã€æ¬¡ã®ã‚ˆã†ãªã¨ã“ã‚ã§æ‰‹é–“å–ã‚Šã¾ã—ãŸã€‚<br>ãŸã ã®ç§ã®ç¢ºèªä¸è¶³ãªã®ã§ã™ãŒâ€¦â€¦</p><h3 id=signatureç”Ÿæˆ>Signatureç”Ÿæˆ
<a class=anchor href=#signature%e7%94%9f%e6%88%90>#</a></h3><p>POST Policyã‚’Base64ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ãŸã‚‚ã®ã‚’Policyã¨ã„ã†Fieldã«æŒ‡å®šã€‚<br>ãã‚Œã‚’StringToSignã¨ã—ã¦ã€èªè¨¼æƒ…å ±ï¼ˆSignatureï¼‰ã‚’ç”Ÿæˆã—Fieldã«ã®ã›ã¾ã™ã€‚</p><p><a href=https://docs.aws.amazon.com/ja_jp/general/latest/gr/sigv4-signed-request-examples.html>ç”Ÿæˆæ‰‹é †</a>ã‚’å‚è€ƒã«PHPã§å®Ÿè£…ã—ãŸã®ã§ã™ãŒã€å„å‡¦ç†ã‚¹ãƒ†ãƒƒãƒ—ã§ã‚­ãƒ¼æ–‡å­—åˆ—ã‚’16é€²æ•°æ–‡å­—åˆ—ã«å¤‰æ›ã—ã¦ã—ã¾ã„ã€ä¸Šæ‰‹ãèªè¨¼ãŒé€šã‚‰ãšï¼Ÿã«ãªã£ã¦ã¾ã—ãŸã€‚<br>æ­£ã—ãã¯ã€ã‚­ãƒ¼ã‚’ãƒã‚¤ãƒŠãƒªãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦ãã®ã¾ã¾æ¸¡ã›ã°OKã€‚ï¼‘ï¼–é€²æ•°æ–‡å­—åˆ—ã«ã™ã‚‹ã®ã¯ç”Ÿæˆã—ãŸSignatureã‚’Formã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«æŒ‡å®šã™ã‚‹æ™‚ã ã‘ã€‚</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>makeSignatureKey</span>($awsSecretKey, $dateStamp, $regionName, $serviceName) {
  <span style=color:#75715e>// é–“é•ã„
</span><span style=color:#75715e></span>  <span style=color:#75715e>//    $kDate = bin2hex(signHash(&#39;AWS4&#39; . $awsSecretKey, $dateStamp));
</span><span style=color:#75715e></span>  <span style=color:#75715e>//    $kRegion = bin2hex(signHash($kDate, $regionName));
</span><span style=color:#75715e></span>  <span style=color:#75715e>//    $kService = bin2hex(signHash($kRegion, $serviceName));
</span><span style=color:#75715e></span>  <span style=color:#75715e>//    $kSign = bin2hex(signHash($kService, &#39;aws4_request&#39;));
</span><span style=color:#75715e></span>
  $kDate <span style=color:#f92672>=</span> <span style=color:#a6e22e>signHash</span>(<span style=color:#e6db74>&#39;AWS4&#39;</span> <span style=color:#f92672>.</span> $awsSecretKey, $dateStamp);
  $kRegion <span style=color:#f92672>=</span> <span style=color:#a6e22e>signHash</span>($kDate, $regionName);
  $kService <span style=color:#f92672>=</span> <span style=color:#a6e22e>signHash</span>($kRegion, $serviceName);
  $kSign <span style=color:#f92672>=</span> <span style=color:#a6e22e>signHash</span>($kService, <span style=color:#e6db74>&#39;aws4_request&#39;</span>);
  <span style=color:#66d9ef>return</span> $kSign;
}
</code></pre></div><h3 id=fieldã®ä½ç½®>Fieldã®ä½ç½®
<a class=anchor href=#field%e3%81%ae%e4%bd%8d%e7%bd%ae>#</a></h3><p>å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã€POST Policyã‚‚å¤§ä¸ˆå¤«ãã†ãªã®ã«ã€[key]ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒä¸è¶³ã¨ã„ã†ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã€‚<br>åŸå› ã¯ã€ã‚³ãƒ¼ãƒ‰ã‚’ã¨ã¨ãˆã¦ã„ã‚‹æ™‚ã«submitã®ä½ç½®ã‚’ä¸Šã«ã—ã¦ã—ã¾ã„ã€ãã‚Œä»¥é™ã«æ›¸ã„ã¦ã„ã‚‹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’é€ã‚Œã¦ã„ãªã„ã‹ã‚‰ã§ã—ãŸã€‚</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>form</span> <span style=color:#a6e22e>action</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;http://&lt;bucket name&gt;.s3.amazonaws.com/&#34;</span> <span style=color:#a6e22e>method</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;post&#34;</span> <span style=color:#a6e22e>enctype</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;multipart/form-data&#34;</span>&gt;
  <span style=color:#75715e>&lt;!-- The elements after this will be ignored --&gt;</span>
  &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;submit&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;submit&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Upload to Amazon S3&#34;</span> /&gt;

  <span style=color:#75715e>&lt;!-- submitä»¥é™ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒç„¡è¦–ã•ã‚Œã‚‹ãŸã‚ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä¸è¶³ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã€‚ --&gt;</span>

  &lt;<span style=color:#f92672>label</span>&gt;
    S3 Tags for File: &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text&#34;</span>  <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;x-amz-meta-tag&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span> /&gt;&lt;<span style=color:#f92672>br</span> /&gt;
  &lt;/<span style=color:#f92672>label</span>&gt;
  &lt;<span style=color:#f92672>label</span>&gt;
    Content-Type: &lt;<span style=color:#f92672>span</span>&gt;image/png&lt;/<span style=color:#f92672>span</span>&gt;
  &lt;/<span style=color:#f92672>label</span>&gt;
  &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hidden&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;key&#34;</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;from-form${filename}&#34;</span> /&gt;
  ...
&lt;/<span style=color:#f92672>form</span>&gt;
</code></pre></div><p><a href=https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-HTTPPOSTForms.html>ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹</a>ã‚’è¦‹ãªãŠã™ã¨ã€<code>&lt;!-- The elements after this will be ignored --></code>ã¨ã¡ã‚ƒã‚“ã¨æ›¸ã„ã¦ã‚ã‚Šã¾ã™ã­ã€‚æ¥ãšã‹ã—ã„ã€‚</p><p>ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯
<a href=https://github.com/takakd/demo-page/tree/master/docs/s3post>ã“ã¡ã‚‰</a></p><p>å˜ç´”ãªPOSTã ã¨POST Policyã®ãƒ•ã‚©ãƒ¼ãƒ ãŒæ¥½ãã†ã§ã™ãŒã€å°‘ã—è¾¼ã¿å…¥ã£ãŸå‡¦ç†ï¼ˆå®¹é‡ãŒå¤§ãã„ãƒ•ã‚¡ã‚¤ãƒ«é€ä¿¡ãªã©ï¼‰ã‚’ã™ã‚‹å ´åˆã¯ã€JavaScriptã®SDKã‚’ä½¿ã£ãŸã»ã†ãŒã‚ˆã•ãã†ã§ã™ã€‚<br>ã¾ãŸè©¦ã—ã¦ã¿ã‚ˆã†ã€‚</p></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><ul><li><a href=#æº–å‚™>æº–å‚™</a><ul><li><a href=#ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼>ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼</a></li></ul></li><li><a href=#ãƒ•ã‚©ãƒ¼ãƒ >ãƒ•ã‚©ãƒ¼ãƒ </a><ul><li><a href=#signatureç”Ÿæˆ>Signatureç”Ÿæˆ</a></li><li><a href=#fieldã®ä½ç½®>Fieldã®ä½ç½®</a></li></ul></li></ul></li></ul></nav></aside></main></body></html>