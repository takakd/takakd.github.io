<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>aws on takağŸ‘¨ğŸ»â€ğŸ’»</title>
    <link>https://takakd.github.io/tags/aws/</link>
    <description>Recent content in aws on takağŸ‘¨ğŸ»â€ğŸ’»</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <copyright>&amp;copy; taka 2018</copyright>
    <lastBuildDate>Mon, 16 Nov 2020 00:42:43 +0900</lastBuildDate><atom:link href="https://takakd.github.io/tags/aws/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>The REST API doesn&#39;t contain any methods (Service: AmazonApiGateway...</title>
      <link>https://takakd.github.io/articles/20201116004243/</link>
      <pubDate>Mon, 16 Nov 2020 00:42:43 +0900</pubDate>
      
      <guid>https://takakd.github.io/articles/20201116004243/</guid>
      <description>AWS CloudFormationã§Proxyçµ±åˆã—ãŸAPIã‚’ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã‚ˆã†ã¨ã—ã¦æ¬¡ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒã§ã¾ã—ãŸã€‚ CREATE_FAILED AWS::ApiGateway::Deployment SomeDeployment The REST API doesn&amp;#39;t contain any methods (Service:BadRequestException; Request ID:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx; Proxy: null) åŸå› ã¯ã€Deploymentãƒªã‚½ãƒ¼ã‚¹ä½œæˆæ™‚ã«AWS::ApiGateway::Methodãƒªã‚½ãƒ¼ã‚¹ãŒã¾ã ä½œã‚‰ã‚Œã¦ã„ãªã„ãŸã‚doesn&#39;t contain DependsOnã‚’AWS::ApiGateway::Deploymentã«è¿½è¨˜ã™ã‚‹ã“ã¨ã§è§£æ±ºã§ãã¾ã—ãŸã€‚ è¨˜è¿°ã®ã‚¯ã‚»ã‚’ã¤ã‘ã¦ãŠã„ãŸã»ã†ãŒã‚ˆã•ãã†ã§ã™ã­ã€‚ Ref. https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-attribute-dependson.html https://nickolaskraus.org/articles/creating-an-amazon-api-gateway-with-a-lambda-integration-using-cloudformation/</description>
    </item>
    
    <item>
      <title>API Gatewayçµ±åˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã®ãƒãƒƒãƒ”ãƒ³ã‚°ã§å›ºå®šå€¤ã‚’è¨­å®š</title>
      <link>https://takakd.github.io/articles/20201102010035/</link>
      <pubDate>Mon, 02 Nov 2020 01:00:36 +0900</pubDate>
      
      <guid>https://takakd.github.io/articles/20201102010035/</guid>
      <description>CloudFormation(.yaml)ã§ã€API Gatewayã®çµ±åˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã®ãƒãƒƒãƒ”ãƒ³ã‚°ã§å›ºå®šå€¤ã‚’æŒ‡å®šã—ãŸã„å ´åˆã¯ã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãã¨ã‚ˆã„ã€‚ SomeMethod: Type: AWS::ApiGateway::Method Properties: HttpMethod: POST ... Integration: Type: AWS IntegrationHttpMethod: POST ... IntegrationResponses: - StatusCode: 200 SelectionPattern: &amp;#34;status:200&amp;#34; ResponseParameters: # OK method.response.header.X-STATIC-HEADER: &amp;#34;&amp;#39;1&amp;#39;&amp;#34; # NG method.response.header.X-STATIC-HEADER: 1 # NG method.response.header.X-STATIC-HEADER: &amp;#34;1&amp;#34; Reference https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-properties-apitgateway-method-integration-integrationresponse.html#cfn-apigateway-method-integration-integrationresponse-responseparameters</description>
    </item>
    
    <item>
      <title>AWS5è³‡æ ¼ã®å‹‰å¼·ãƒ­ã‚°</title>
      <link>https://takakd.github.io/articles/20200806023547/</link>
      <pubDate>Thu, 06 Aug 2020 02:35:47 +0900</pubDate>
      
      <guid>https://takakd.github.io/articles/20200806023547/</guid>
      <description>å‹‰å¼·ã‚’å§‹ã‚ãŸæ™‚ã«å‹‰å¼·æ³•ã‚’è‰²ã€…èª¿ã¹ãŸã®ã§ã™ãŒã€å‹‰å¼·ãƒ­ã‚°çš„ãªã‚‚ã®ã¯å°‘ãªã„ã‚ˆã†ã«æ€ã£ãŸã®ã§æ®‹ã—ã¦ãŠãã¾ã™ã€‚ã©ãªãŸã‹ã®å‚è€ƒã«ãªã‚Œã°å¹¸ã„ã§ã™ã€‚ èƒŒæ™¯ å‹‰å¼·ã‚’å§‹ã‚ãŸæ™‚ã®ã‚¹ãƒšãƒƒã‚¯ã¯æ¬¡ã®é€šã‚Šã€‚ AWSä½¿ç”¨æ­´4å¹´ãã‚‰ã„ã€‚ ä½¿ã£ãŸã‚µãƒ¼ãƒ“ã‚¹ã¯ã€EC2, Route53, EBS, IAM, VPC, CloudFront, S3ç¨‹åº¦ã€‚ å±¥æ­´ 2017/12 Passed - Cloud ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚·ãƒ§ãƒŠãƒ¼ 2018/1 Failed - ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆ 2019/9 Passed - ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆ 2019/10 Passed - ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆ 2019/11 Passed - SysOpsã‚¢ãƒ‰ãƒŸãƒ‹ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼ ã‚¢ã‚½ã‚·ã‚¨ã‚¤ãƒˆ 2020/5 Passed - DevOpsã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ« 2020/5 Failed - ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ« 2020/6 Passed - ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ« ãƒ­ã‚° 1. Cloud ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚·ãƒ§ãƒŠãƒ¼ Passed: ã‚¹ã‚³ã‚¢ 710 ã“ã®æ™‚ç‚¹ã§ã¯EC2, EBS, S3, Cloudfront, Route53ã‚’å°‘ã—ä½¿ã£ãŸç¨‹åº¦ã§ã€å…¨ã‚µãƒ¼ãƒ“ã‚¹ã®åŸºæœ¬ã¨ãªã‚‹VPCã‚„IAMã¯ã ã„ãŸã„50%ç¨‹åº¦ã®ç†è§£ã§ã—ãŸã€‚ ã¾ãšã¯ã“ã®ãƒ“ãƒ‡ã‚ªã‚’è¦‹ã¾ã—ãŸã€‚70%ç¨‹åº¦ã¯çŸ¥ã£ã¦ã„</description>
    </item>
    
    <item>
      <title>API Gateway &#43; Lambda - golang</title>
      <link>https://takakd.github.io/articles/20200705022238/</link>
      <pubDate>Sun, 05 Jul 2020 02:22:39 +0900</pubDate>
      
      <guid>https://takakd.github.io/articles/20200705022238/</guid>
      <description>APIGateway + Goã§Lambdaã®ã‚µãƒ³ãƒ—ãƒ«ã§ã™ã€‚ ä»•æ§˜ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ: https://&amp;lt;API ID&amp;gt;.execute-api.ap-northeast-1.amazonaws.com/&amp;lt;stage&amp;gt;/&amp;lt;Resource&amp;gt; HTTPãƒ¡ã‚½ãƒƒãƒ‰: GET ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿: { &amp;#34;text&amp;#34;: &amp;#34;string&amp;#34; } Lambdaãƒãƒ³ãƒ‰ãƒ© å¼•æ•°ã‚’structã§å®šç¾©ã€‚ package main import ( &amp;#34;context&amp;#34; &amp;#34;github.com/aws/aws-lambda-go/lambda&amp;#34; &amp;#34;github.com/pkg/errors&amp;#34; ) // Ref: https://docs.aws.amazon.com/lambda/latest/dg/golang-handler.html // Receive arguments as struct. type Event struct { Text string `json:&amp;#34;text&amp;#34;` } func (e *Event) validate() bool { valid := true if e.Text == &amp;#34;&amp;#34; { valid = false } return valid } // Response type Response struct { Message string `json:&amp;#34;message&amp;#34;` } // Lambda handler func HandleRequest(ctx context.Context, event Event) (Response, error) { resp := Response{} if !event.validate() { return resp, errors.Errorf(&amp;#34;need text.&amp;#34;) } // Something to do you want here. resp.Message = &amp;#34;ok&amp;#34; return resp, nil } // Main func main() { lambda.Start(HandleRequest) } çµ±åˆãƒªã‚¯ã‚¨ã‚¹ãƒˆ - ãƒãƒƒãƒ”ãƒ³ã‚°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ structã«è¨­å®šã™ã‚‹å€¤ã‚’è¿½åŠ ã€‚ ã“ã“ã§ã¯textã‚’è¨­å®šã—ã¦ã„ã¾ã™ã€‚ #set($allParams = $input.params()) { &amp;#34;text&amp;#34;: &amp;#34;$input.params(&amp;#39;text&amp;#39;)&amp;#34;, &amp;#34;body-json&amp;#34; : $input.json(&amp;#39;$&amp;#39;), ... } ãƒ¬ã‚¹ãƒãƒ³ã‚¹ è¿”ã£ã¦ãã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã€‚ { &amp;#34;message&amp;#34;: &amp;#34;ok&amp;#34; }</description>
    </item>
    
    <item>
      <title>HTML Formã§S3ã«POST</title>
      <link>https://takakd.github.io/articles/20180224125248/</link>
      <pubDate>Sat, 24 Feb 2018 12:52:48 +0900</pubDate>
      
      <guid>https://takakd.github.io/articles/20180224125248/</guid>
      <description>AWSã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’å‚è€ƒã«ã€Formã§S3ãƒã‚±ãƒƒãƒˆã¸ã®POSTã‚’è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚ æº–å‚™ Formã§S3ã«POSTã™ã‚‹ãŸã‚ã«ã¯ã€å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«é€ä¿¡ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆã‚ã›ã€POST Policyã€Signatureã€ã‚¢ã‚¯ã‚»ã‚¹IDã€ãã®ä»–ãƒ•ã‚¡ã‚¤ãƒ«ã«é–¢ã™ã‚‹æƒ…å ±ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ ï¼ˆPOST Policyï¼šPOSTã™ã‚‹æ™‚ã«ã¤ã‘ã‚‹è¨­å®šæƒ…å ±ã€Signatureã¯ãã‚Œã‚’ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚­ãƒ¼ã§hashã—ãŸã‚‚ã®ï¼‰ ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹IDã‚’è¨­å®šã—ã¾ã™ãŒã€ã“ã®ã‚¢ã‚¯ã‚»ã‚¹IDã«å¯¾å¿œã™ã‚‹IAMãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€POSTå…ˆã®ãƒã‚±ãƒƒãƒˆã«å¯¾ã™ã‚‹æ“ä½œæ¨©é™ãŒå¿…è¦ã§ã™ã€‚ åŸºæœ¬çš„ãªAWSã®IAMãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è€ƒãˆã§ã™ã­ã€‚ æ¬¡ã®ã‚ˆã†ã«ãƒã‚±ãƒƒãƒˆãƒãƒªã‚·ãƒ¼ã‚’è¨­å®šã—ã¾ã™ã€‚ { &amp;#34;Version&amp;#34;: &amp;#34;2012-10-17&amp;#34;, &amp;#34;Statement&amp;#34;: [ { &amp;#34;Effect&amp;#34;: &amp;#34;Allow&amp;#34;, &amp;#34;Principal&amp;#34;: { &amp;#34;aws&amp;#34;: &amp;#34;arn:aws:iam::&amp;lt;12æ¡ã®æ•°å­—&amp;gt;:user/&amp;lt;IAMãƒ¦ãƒ¼ã‚¶ãƒ¼å&amp;gt;&amp;#34; }, &amp;#34;Action&amp;#34;: &amp;#34;s3:*&amp;#34;, &amp;#34;Resource&amp;#34;: [ &amp;#34;arn:aws:s</description>
    </item>
    
    <item>
      <title>AWSã§VPC &#43; è¸ã¿å°EC2 &#43; NAT Gatewayã®è¨­å®š</title>
      <link>https://takakd.github.io/articles/20180209233744/</link>
      <pubDate>Fri, 09 Feb 2018 23:37:44 +0900</pubDate>
      
      <guid>https://takakd.github.io/articles/20180209233744/</guid>
      <description>VPCã®å‹‰å¼·ã®ãŸã‚ã€ã‚ˆãã‚ã‚‹æ§‹æˆã§è¨­å®šã‚’è©¦ã—ã¾ã—ãŸã€‚ æ§‹æˆ VPC test-vpc1(172.31.0.0/16) Private Subnet test-subnet-private(172.31.0.0/24) Public subnet test-subnet-public(172.31.1.0/24) è¸ã¿å°EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ—: t2.micro ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ— ã‚¿ã‚¤ãƒ— ãƒãƒ¼ãƒˆ ã‚½ãƒ¼ã‚¹ or é€ä¿¡å…ˆ ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ 22 ã‚½ãƒ¼ã‚¹: ä»»æ„ã®å ´æ‰€ ã‚¢ã‚¦ãƒˆãƒã‚¦ãƒ³ãƒ‰ ã™ã¹ã¦ é€ä¿¡å…ˆ: ä»»æ„ã®å ´æ‰€ EC2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ—: t2.micro ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚°ãƒ«ãƒ¼ãƒ— ã‚¿ã‚¤ãƒ— ãƒãƒ¼ãƒˆ ã‚½ãƒ¼ã‚¹ or é€ä¿¡å…ˆ ã‚¤ãƒ³ãƒã‚¦ãƒ³ãƒ‰ 22 ã‚½ãƒ¼ã‚¹: è¸ã¿å°EC2(172.31.1.92/32) ã‚¢ã‚¦ãƒˆãƒã‚¦ãƒ³ãƒ‰ ã™ã¹ã¦ é€ä¿¡å…ˆ: ä»»æ„ã®å ´æ‰€ NAT Gateway Public subnetã«é…ç½® è¨­å®šæ‰‹é † 1. VPCä½œæˆ ä¸€ã‹ã‚‰ä½œã£ã¦ã¿ã‚ˆã†ã¨ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆVPCã‚’ä½¿ç”¨ã›ãšæ–°è¦ã«VPCã‚’ä½œæˆã€‚ è¨­å®šå†…å®¹ 2. Subnetä½œæˆ Public subnet Private Subnet 3. å„ãƒ«ãƒ¼ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ Privateç”¨ãƒ«ãƒ¼ãƒˆãƒ†ãƒ¼ãƒ–ãƒ« Publicç”¨ãƒ«ãƒ¼ãƒˆãƒ†ãƒ¼ãƒ–ãƒ« 4. Subnetã«ã‚¢ã‚¿ãƒƒãƒ ä½œæˆã—ãŸãƒ«ãƒ¼ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ã‚’Subnetã«é–¢é€£ä»˜ã‘ã¾ã™ã€‚ Publicç”¨ãƒ«ãƒ¼ãƒˆãƒ†ãƒ¼ãƒ–ãƒ«ã®ä¾‹ Publicã€Privateã¨ã‚‚ã«è¨­å®šã—ãŸå¾Œã®çŠ¶æ…‹ã€‚ 5. ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚²</description>
    </item>
    
    <item>
      <title>AWS CLIã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</title>
      <link>https://takakd.github.io/articles/20171025023301/</link>
      <pubDate>Wed, 25 Oct 2017 02:33:01 +0900</pubDate>
      
      <guid>https://takakd.github.io/articles/20171025023301/</guid>
      <description>AWSãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’ä½¿ã†æ©Ÿä¼šãŒå¢—ãˆã¦ãã¾ã—ãŸã€‚ è»½å¾®ãªç¢ºèªä½œæ¥­ã§æ¯åº¦ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã®ãŒæ‰‹é–“ãªãŸã‚ã€AWS CLIã‚’ä½¿ã£ã¦ç°¡å˜ã«ã§ããªã„ã‹ãªã¨ã¾ãšã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚ ç’°å¢ƒ macOS Sierra python 2.7.13 pip 9.0.1 æ‰‹é † AWS CLIã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« èªè¨¼æƒ…å ±è¨­å®š AWS CLIå®Ÿè¡Œç¢ºèª 1. AWS CLIã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’èµ·å‹•ã—ã¦ã€pipã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚ å‚è€ƒ: Install $ pip install awscli --upgrade --user ... ãšã‚‰ãšã‚‰ã¨ãƒ­ã‚°å‡ºåŠ›ã•ã‚Œã‚‹ã€‚ ... ... # å®Œäº†å¾Œã€awsã‚’å®Ÿè¡Œã€‚ $ aws # usageãŒå‡ºãŸã‚‰OKã€‚ usage: aws [options] &amp;lt;command&amp;gt; &amp;lt;subcommand&amp;gt; [&amp;lt;subcommand&amp;gt; ...] [parameters] To see help text, you can run: aws help aws &amp;lt;command&amp;gt; help aws &amp;lt;command&amp;gt; &amp;lt;subcommand&amp;gt; help aws: error: too few arguments 2. èªè¨¼æƒ…å ±ã®è¨­å®š èªè¨¼æƒ…å ±ã¯å®Ÿè¡Œæ™‚ã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã‚„ç’°å¢ƒå¤‰æ•°ã§ã‚‚æŒ‡å®šã§ãã¾ã™ãŒã€æ¯åº¦æŒ‡å®šã™ã‚‹ã®ã‚‚æ‰‹é–“ãªã®ã§è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ–¹æ³•ã‚’é¸æŠã—ã¾ã—ãŸã€‚ å‚è€ƒ: Configuration and Credential Files# ãƒ•ã‚¡ã‚¤ãƒ«ã®ç½®ãå ´æ‰€ã‚’ä½œã£ã¦ $ mkdir ~/.aws # èªè¨¼ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ touch ~/.aws/credentials # ç’°å¢ƒè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ä½œæˆ touch ~/.aws/config å„ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã¯æ¬¡ã®é€šã‚Šã€‚ ~/.aws/credentials [default] aws_access_key_id=&amp;lt;ã‚¢ã‚¯ã‚»ã‚¹ã‚­ãƒ¼ID</description>
    </item>
    
  </channel>
</rss>
