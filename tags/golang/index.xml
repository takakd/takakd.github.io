<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>golang on takağŸ‘¨ğŸ»â€ğŸ’»</title><link>https://takakd.github.io/tags/golang/</link><description>Recent content in golang on takağŸ‘¨ğŸ»â€ğŸ’»</description><generator>Hugo -- gohugo.io</generator><language>ja</language><lastBuildDate>Fri, 23 Oct 2020 05:24:54 +0900</lastBuildDate><atom:link href="https://takakd.github.io/tags/golang/index.xml" rel="self" type="application/rss+xml"/><item><title>Slackã®EventAPIã®ãƒªãƒˆãƒ©ã‚¤ã‚³ãƒ¼ãƒ«ã‚’é˜²ã - golang</title><link>https://takakd.github.io/articles/20201023052454/</link><pubDate>Fri, 23 Oct 2020 05:24:54 +0900</pubDate><guid>https://takakd.github.io/articles/20201023052454/</guid><description>ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™æ™‚ã§ã‚‚ãƒªãƒˆãƒ©ã‚¤ã•ã›ãŸããªã„å ´åˆã¯ã€ãƒ˜ãƒƒãƒ€ã«X-Slack-No-Retryã‚’æŒ‡å®šã™ã‚‹ã€‚ func handler(w http.ResponseWriter, r *http.Request) { // Process something... // Set &amp;#34;X-Slack-No-Retry: 1&amp;#34; if prevent retry. w.Header().Set(&amp;#34;X-Slack-No-Retry&amp;#34;, &amp;#34;1&amp;#34;) w.Header().Set(&amp;#34;Content-Type&amp;#34;, &amp;#34;application/json&amp;#34;) w.WriteHeader(http.StatusBadRequest) w.Write([]byte(&amp;#34;&amp;#34;)) } Reference https://api.slack.com/events-api#the-events-api__field-guide__error-handling__graceful-retries__turning-retries-off</description></item><item><title>generate gomockã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸ - golang</title><link>https://takakd.github.io/articles/20201021052243/</link><pubDate>Wed, 21 Oct 2020 05:22:43 +0900</pubDate><guid>https://takakd.github.io/articles/20201021052243/</guid><description>gomockã§ã‚¨ãƒ©ãƒ¼ã€‚ã¨ã‚Šã‚ãˆãšå¤ã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¶ˆã—ã¦å†å®Ÿè¡Œã™ã‚‹ã¨è§£æ¶ˆã§ããŸã€‚ % mockgen -source ./internal/app/usecase/xxx/repository.go -destination ./internal/app/usecase/xxx/repository_mock.go -package xxx -: found packages xxx (repository.go) and mock_updateproteinevent (repository_mock.go) in /Users/xxx/go/src/proteinreminder/internal/app/usecase/xxx 2020/10/21 04:21:56 Loading input failed: loading package failed # Delete % rm -rf ./internal/app/usecase/xxx/repository_mock.go # Run again and completed. % mockgen -source ./internal/app/usecase/xxx/repository.go -destination</description></item><item><title>golang-migrateã®ãƒ˜ãƒ«ãƒ‘ã‚¹ã‚¯ãƒªãƒ—ãƒˆ - golang</title><link>https://takakd.github.io/articles/20201017051917/</link><pubDate>Sat, 17 Oct 2020 05:19:17 +0900</pubDate><guid>https://takakd.github.io/articles/20201017051917/</guid><description>.sqlå‘ã‘golang-migrateã®ãƒ˜ãƒ«ãƒ‘ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã™ã€‚ æ©Ÿèƒ½ .envã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‚’èª­ã¿è¾¼ã¿ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®SQLãƒ•ã‚¡ã‚¤ãƒ«ã§ãƒã‚¤ã‚°ãƒ¬ãƒ¼ãƒˆ SQLã®ã¿å¯¾å¿œ</description></item><item><title>API Gateway + Lambda - golang</title><link>https://takakd.github.io/articles/20200705022238/</link><pubDate>Sun, 05 Jul 2020 02:22:39 +0900</pubDate><guid>https://takakd.github.io/articles/20200705022238/</guid><description>APIGateway + Goã§Lambdaã®ã‚µãƒ³ãƒ—ãƒ«ã§ã™ã€‚ ä»•æ§˜ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ: https://&amp;lt;API ID&amp;gt;.execute-api.ap-northeast-1.amazonaws.com/&amp;lt;stage&amp;gt;/&amp;lt;Resource&amp;gt; HTTPãƒ¡ã‚½ãƒƒãƒ‰: GET ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿: { &amp;#34;text&amp;#34;: &amp;#34;string&amp;#34; } Lambdaãƒãƒ³ãƒ‰ãƒ© å¼•æ•°ã‚’structã§å®šç¾©ã€‚ package main import ( &amp;#34;context&amp;#34; &amp;#34;github.com/aws/aws-lambda-go/lambda&amp;#34;</description></item><item><title>å®‰å…¨ãªtruncate string - golang</title><link>https://takakd.github.io/articles/20200628021817/</link><pubDate>Sun, 28 Jun 2020 02:18:17 +0900</pubDate><guid>https://takakd.github.io/articles/20200628021817/</guid><description>package main import ( &amp;#34;fmt&amp;#34; ) // Truncate string. func TruncateString(str string, length int) string { if length &amp;lt;= 0 { return &amp;#34;&amp;#34; } // This code cannot support Japanese // orgLen := len(str) // if orgLen &amp;lt;= length { // return str // } // return str[:length] // Support Japanese // Ref: Range loops https://blog.golang.org/strings truncated := &amp;#34;&amp;#34; count := 0 for _, char := range str { truncated += string(char) count++ if count &amp;gt;= length { break }</description></item><item><title>"omitempty"ã®ãƒ¡ãƒ¢ - golang</title><link>https://takakd.github.io/articles/20200625021433/</link><pubDate>Thu, 25 Jun 2020 02:14:34 +0900</pubDate><guid>https://takakd.github.io/articles/20200625021433/</guid><description>json.Marshal ã¯omitemptyãŒå€¤å‹stringã«è¨­å®šã•ã‚Œã¦ã„ã‚Œã°ç©ºæ–‡å­—ã‚’å‡ºåŠ›ã™ã‚‹ã€‚ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è‡ªä½“ä¸è¦ãªå ´åˆã¯ã€ãƒã‚¤ãƒ³ã‚¿å‹stringã«ã™ã‚‹ã¨ã„ã„ã€‚ package main import ( &amp;#34;encoding/json&amp;#34; &amp;#34;fmt&amp;#34; ) type ValueSlice struct</description></item><item><title>ParseFormã—ãŸå€¤ã‚’structã«è¨­å®š - golang</title><link>https://takakd.github.io/articles/20200623021217/</link><pubDate>Tue, 23 Jun 2020 02:12:17 +0900</pubDate><guid>https://takakd.github.io/articles/20200623021217/</guid><description>// Set FormValues to struct func SetFormValueToStruct(values url.Values, structPtr interface{}) error { // Get the pointer of struct ptr := reflect.ValueOf(structPtr) // Get the value of struct value := ptr.Elem() // Set value to struct field valueType := value.Type() for i := 0; i &amp;lt; value.NumField(); i++ { jsonTag := valueType.Field(i).Tag.Get(&amp;#34;json&amp;#34;) if value.Field(i).CanSet() == false { return errors.New(&amp;#34;cannot set value to field&amp;#34;) } value.Field(i).Set(reflect.ValueOf(values.Get(jsonTag))) } return nil } // Example func ExampleSetFormValueToStruct() { // Form values formValues := url.Values{} formValues.Set(&amp;#34;test1&amp;#34;,</description></item><item><title>URLã‚¯ã‚¨ãƒªæ–‡å­—åˆ—ã‚’ç”Ÿæˆ - golang</title><link>https://takakd.github.io/articles/20200620021106/</link><pubDate>Sat, 20 Jun 2020 02:11:07 +0900</pubDate><guid>https://takakd.github.io/articles/20200620021106/</guid><description>params := url.Values{ &amp;#34;keyword&amp;#34;: {&amp;#34;some&amp;#34;}, } reqUrl := &amp;#34;https://yourendpoint.example.com?&amp;#34; + params.Encode() Reference https://golang.org/pkg/net/url/#URL.Query</description></item><item><title>ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ã‚’ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã«å¤‰æ› - golang</title><link>https://takakd.github.io/articles/20200612020628/</link><pubDate>Fri, 12 Jun 2020 02:06:28 +0900</pubDate><guid>https://takakd.github.io/articles/20200612020628/</guid><description>json.Unmarshalã—ãŸãƒ‡ãƒ¼ã‚¿ã«å«ã¾ã‚Œã‚‹æ–‡å­—åˆ—ã®ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ‰ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ã‚’ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã«å¤‰æ›ã—ã¾ã™ã€‚ // func convertJsonElement(data interface{}) interface{} { switch v := data.(type) { case map[string]interface{}: for ik, iv := range v { v[ik] = convertJsonElement(iv) }</description></item><item><title>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã§æ‚©ã‚€ - golang</title><link>https://takakd.github.io/articles/20200607143024/</link><pubDate>Sun, 07 Jun 2020 14:30:24 +0900</pubDate><guid>https://takakd.github.io/articles/20200607143024/</guid><description>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã§ã€HTTPã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ã‚’ã¾ã¨ã‚ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å‘½åã«æ‚©ã‚“ã§ã„ã¾ã—ãŸã€‚ çµæœã¯project-layoutã®æ§‹æˆã§ã€internalã®ä¸‹ã«ht</description></item><item><title>panicã®ãƒ†ã‚¹ãƒˆ - golang</title><link>https://takakd.github.io/articles/20200528043646/</link><pubDate>Thu, 28 May 2020 04:36:46 +0900</pubDate><guid>https://takakd.github.io/articles/20200528043646/</guid><description>Goã§ãƒ‘ãƒ‹ãƒƒã‚¯ãŒç™ºç”Ÿã™ã‚‹ã‹ã©ã†ã‹ã®ãƒ†ã‚¹ãƒˆã§ã™ã€‚ // Testing if testFunc calls panic. // e.g. // IsTestCallPanic(func(){ // &amp;lt;place test target here.&amp;gt; // }) func IsTestCallPanic(testFunc func()) (ok bool) { defer func() { if err := recover(); err == nil { ok = false } }() ok = true testFunc() return } // Test for test. func TestIsTestCallPanic(t *testing.T) { isCalled := IsTestCallPanic(func() {</description></item><item><title>Interfaceãƒã‚¤ãƒ³ã‚¿ã®å‹ã‚¨ãƒ©ãƒ¼ - golang</title><link>https://takakd.github.io/articles/20200413235004/</link><pubDate>Mon, 13 Apr 2020 23:50:06 +0900</pubDate><guid>https://takakd.github.io/articles/20200413235004/</guid><description>Iocã‚³ãƒ³ãƒ†ãƒŠã‚’ä½œã‚ã†ã¨ã—ã¦æ¬¡ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã¨ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã—ãŸã€‚ åŸå› ã¯interfaceã®ãƒã‚¤ãƒ³ã‚¿ã®å‹ã‚¨ãƒ©ãƒ¼ã€‚ // interface type IFace interface { hello() string } // concrete type type Concrete struct { } func NewConcrete() *Concrete { return</description></item><item><title>error table [name] has no column [column]</title><link>https://takakd.github.io/articles/20200131021820/</link><pubDate>Fri, 31 Jan 2020 02:18:21 +0900</pubDate><guid>https://takakd.github.io/articles/20200131021820/</guid><description>Goã§sqliteã«ãƒ‡ãƒ¼ã‚¿ã‚’Insertã—ã‚ˆã†ã¨ã—ã¦ã‚¨ãƒ©ãƒ¼ã€‚ $ error table Balance has no column named price Insertã—ã¦ã„ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ã‚‚å•é¡Œã¯ãªã„ã€‚ ã‚«ãƒ©ãƒ ã‚’ç¢ºèªã™ã‚‹ã¨â€¦â€¦ 2å€‹ç›®ã®ã‚«ãƒ©ãƒ </description></item></channel></rss>